---
title: Windows下采用U盘安装Ubuntu双系统详细过程
description: 再学不会你打死我
date: '2020.02.01.09:00'
categories:
  - 工科生的基本功
  - 软件技术
tags:
  - Linux
  - Library
abbrlink: 292fe4d9
---
<img src=" /images/20200201/00.jpg" width=50% />
详细介绍Windows下安装Ubuntu双系统的方法。
<!-- more -->

# 〇、前言
需要的硬件设备：一台已装好Windows的电脑、8G或更大的U盘、网络。

需要的软件环境：Ubuntu16.04安装包。

# 一、准备工作
## 1.1 Windows下进行磁盘划分
首先，进入Windows，对于win10，直接在左下角的搜索栏里搜索`磁盘管理`(或者右键`此电脑`->`管理`->`磁盘管理`)，找到电脑的磁盘划分。
![01]( /images/20200201/01.jpg)

上图显示，此电脑有两块硬盘组成，一块是500G的SSD，一块是2T的机械硬盘。SSD上已经装了Win10，为了系统的快速响应，我们将Ubuntu也装在SSD上。因此，选择500G的SSD，右键->`压缩卷`，在弹出的对话框中输入压缩空间200G(204800M)，点击`压缩`，压缩完成后，会有一块200G的未分配区域，如下图所示。

![02]( /images/20200201/02.jpeg)

## 1.2 U盘的处理
在Ubuntu官网找到相应的系统镜像文件(.iso文件)，将解压后的文件复制到U盘。

> 注意：对于UEFI格式的电脑，不要将U盘做成系统盘，只需要将系统镜像文件拷贝到U盘即可。这样做的好处是，U盘可见空间不会缩小，以后想再用该U盘直接删除Ubuntu系统文件即可。那哪些电脑是UEFI格式的电脑呢？事实上，现在(2020年)买到的新电脑几乎都是UEFI格式的。

# 二、安装Ubuntu
1.准备工作完成后，准备安装Ubuntu。关机，并将装有Ubuntu的U盘插入，开机连续按F12(这里是Dell电脑，不同品牌电脑不一样)进入引导项选择，如下图所示。

![03]( /images/20200201/03.png)

2.选择自己的U盘启动，上图中是第一项`UEFI: KingstonData...`，进入Ubuntu的准备安装页面。

![04]( /images/20200201/04.png)

3.在这里可以选择第一项`Try Ubuntu`，会进入类似WindowsPE的系统，进去之后可以尝试Ubuntu的功能，也可以选择继续安装Ubuntu；选择第二项`Install Ubuntu`，可以直接开始安装。建议选择第一项，因为可以看到硬盘的情况，有个基本确认，这里可能遇到的问题会在第三节介绍。

4.顺利进入`Try Ubuntu`后，会出现正常的桌面如下图所示。

![05]( /images/20200201/05.png)

在上图中，看左侧的侧边栏最下方，有两块硬盘图标，一块是Windows系统盘，另一块是本机的机械硬盘。点击桌面上的第二个图标`Install Ubuntu 16.04 LTS`，开始安装Ubuntu。

5.接下来的四个小步骤忘记了顺序，但都会出现。
- 选择语言，建议选择默认的英语，这样在以后用系统过程中，系统的系统文件夹及路径都是英文，会很方便；
- 选择地区：Shanghai；
- 选择是否更新以及安装其他的东西，都不选择。

![06]( /images/20200201/06.png)

- 选择安装方式，选第四个Something else，进入自定义的安装方式，这样会保留下Windows。

![07]( /images/20200201/07.png)

6.进入硬盘，选择安装系统引导项的位置。

![08]( /images/20200201/08.png)

上图最下方`Device for boot loader installation`的下拉列表，是选择安装Ubuntu系统引导项的地方，点开后看到有一系列的选择，可以看到有两块硬盘，分别标有512GB、2.0TB，选择标有512GB的那一项，表示把Ubuntu系统引导项安装在512GB的SSD上。

7.Ubuntu分区。作为新手，只需要分两个区，一个是`swap`，一个是`/`。在第6步的图片中，可以看到有一个214769MB的`free space`，这个是在Windows下分出来装Ubuntu的空间。选中它，并点击`+`，如下图所示。

![09]( /images/20200201/09.png)

- 设置swap area。在`size`处填内存的大小，16G即16384M,一般填8192MB即可。选则主分区，`Use as`处打开下拉列表，选择`swap area`，如下图所示。

![10]( /images/20200201/10.png)

点击OK，设置好后如下图所示。从下图可以看出，`swap area`已经分好。

![09-2]( /images/20200201/09-2.png)

- 设置`/`。上图中的`free space`已经从原来的214769MB缩小为198385MB，再点击这块`free space`，点击`+`。在弹出的对话框中，`size`处默认全部大小全给`/`，选择逻辑分区，`Use as`选择`Ext4`，`Mount Point`选择`/`，如下图所示。

![11]( /images/20200201/11.png)

分好后如下图所示。可以看到，原来的那块`free space`已经消失了。

![12]( /images/20200201/12.png)

8.开始安装。点击上图中右下角的`Install now`，出现下图，点击`Continue`。

![13]( /images/20200201/13.png)

9.等待安装完成，一般用几分钟的时间即可。安装完成后，重启系统，开机时出现下图所示的页面，有`Ubuntu`和`Windows Boot Manager`两个，表示双系统已经安装好咯，大功告成！

![14]( /images/20200201/14.png)

# 三、遇到的问题
## 3.1 硬盘缺失
在第二节中选择`Try Ubuntu`进入系统后，如果侧边栏左下角没有出现硬盘，如下图所示。

![15]( /images/20200201/15.png)

继续选择安装，会出现：

![16]( /images/20200201/16.png)

这表明进入Ubuntu安装时根本没有找到系统的硬盘。造成这样的原因是，Dell电脑的BIOS中`SATA Operation`中设置有问题。

解决方案：重启电脑，按`F2`进入BIOS，选择`SATA Operation`，选择`AHCI`，确认后重启，再进入后按照第二节的步骤安装即可。

## 3.2 Windows进入失败
在第3.1节中，修改了`SATA Operation`后，Windows的引导项还在，但是无法进入了。解决方案：

1. 先将`AHCI`模式改为`Raid on`模式，正常进入Windows，按下`Windows+R`键，输入`msconfig`，选择`引导`，弹出如下对话框。

![17]( /images/20200201/17.png)

2. 选择`安全引导`，勾选`最小`，点击`确定`按钮，如果提示重启，暂不重启。
3. 单击`开始`菜单，选择`设置`，进入后选择`系统`，再选择`电源和睡眠`，选择`其他电源设置`。
4. 打开`电源选项`，找到`更改电源按钮的功能`，进入后，点击上方`更改当前不可用的设置`，接着在窗口下方`关机设置`中取消勾选第一项`启用快速启动(推荐)`，点击`保存修改`，然后重启电脑。
5. 重启时按`F2`，再将`Raid on`改为`AHCI`模式，正常启动后进入安全模式，再按下`Windows+R`键，输入`msconfig`，在引导界面取消勾选`安全引导`和`最小`。
6. 保存后，重启电脑，大功告成！
