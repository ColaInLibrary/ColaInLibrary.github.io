<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ROS(kinetic)有用指令集 | Cola In Library</title><meta name="keywords" content="Library,机器人,ROS"><meta name="author" content="Cola &amp; Library"><meta name="copyright" content="Cola &amp; Library"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍ROS的kinetic版本有用的一些指令集">
<meta property="og:type" content="article">
<meta property="og:title" content="ROS(kinetic)有用指令集">
<meta property="og:url" content="https://colainlibrary.com/archives/25595.html">
<meta property="og:site_name" content="Cola In Library">
<meta property="og:description" content="介绍ROS的kinetic版本有用的一些指令集">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://colainlibrary.com/images/post-9.jpg">
<meta property="article:published_time" content="2019-08-03T16:30:00.000Z">
<meta property="article:modified_time" content="2022-08-18T05:23:16.076Z">
<meta property="article:author" content="Cola &amp; Library">
<meta property="article:tag" content="Library">
<meta property="article:tag" content="机器人">
<meta property="article:tag" content="ROS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://colainlibrary.com/images/post-9.jpg"><link rel="shortcut icon" href="/images/favicon-28x32.png"><link rel="canonical" href="https://colainlibrary.com/archives/25595"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?42fb0ad9fb188b1965ef3ab7b4344df5";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="/css/logofont.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ROS(kinetic)有用指令集',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-08-18 05:23:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/userfont.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Cola In Library" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpg" onerror="onerror=null;src='/images/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">85</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/post-9.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Cola In Library</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ROS(kinetic)有用指令集</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-08-03T16:30:00.000Z" title="发表于 2019-08-03 16:30:00">2019-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-18T05:23:16.076Z" title="更新于 2022-08-18 05:23:16">2022-08-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%8E%A7%E5%88%B6/">机器人控制</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/archives/25595.html" data-flag-title="ROS(kinetic)有用指令集"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="leancloud-visitors-count"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/archives/25595.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/archives/25595.html" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>本文中的环境为Ubuntu16.04LTS + ROS(kinetic).</p>
</blockquote>
<span id="more"></span>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>由于从ROS的官网上的教程并没有实时更新，上面混杂了一些旧版本的东西，看起来有些麻烦，而且有的介绍过于繁琐，因此本篇博客旨在介绍笔者使用版本的精简指令集。关于指令的详细介绍，还需从官网上查看相关内容。</p>
<h1 id="指令介绍"><a href="#指令介绍" class="headerlink" title="指令介绍"></a>指令介绍</h1><h2 id="ROS安装指令"><a href="#ROS安装指令" class="headerlink" title="ROS安装指令"></a>ROS安装指令</h2><p>在执行下面的指令前，请注意先将源换位内地源，推荐清华源。</p>
<blockquote>
<p>2021.08.09由于一些原因，官方的安装教程有所改变：<br>ROS 官方教程：<a target="_blank" rel="noopener" href="http://wiki.ros.org/ROS/Tutorials">http://wiki.ros.org/ROS/Tutorials</a><br>ROS kinetic 版本安装：<a target="_blank" rel="noopener" href="http://wiki.ros.org/kinetic/Installation/Ubuntu">http://wiki.ros.org/kinetic/Installation/Ubuntu</a><br>ROS rosdep 的问题<br>执行<code>sudo rosdep init</code> 出错，参考 <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/77483614">解决方案1</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/haoruilin/article/details/104360432?utm_medium=distribute.pc_relevant_download.none-task-blog-baidujs-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-blog-baidujs-1.nonecase">解决方案2</a><br>上一步正确后，执行 <code>rosdep update</code>的问题，这个一般是由于Python版本不兼容造成的。注意，这时候系统不应存在已经加载的Python3环境（实际环境中有多个Python版本注意切换，双系统的虚拟环境，则应该关闭虚拟环境，还不行就要重启系统再尝试）<br>上述操作建议科学上网后再进行。</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c <span class="string">&#x27;echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#x27;</span></span><br><span class="line">sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:<span class="number">80</span> --recv-key <span class="number">0xB01FA116</span></span><br><span class="line">sudo apt-get update	<span class="comment">#如果更新失败提示GPT error，输入sudo apt-key adv --recv-keys --keyserver keyserver.ubuntu.com F42ED6FBAB17C654</span></span><br><span class="line">sudo apt-get install ros-kinetic-desktop-full</span><br><span class="line">sudo rosdep init</span><br><span class="line">rosdep update</span><br><span class="line">echo <span class="string">&quot;source /opt/ros/kinetic/setup.bash&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br><span class="line">sudo apt install python-rosinstall python-rosinstall-generator python-wstool build-essential</span><br></pre></td></tr></table></figure>
<h2 id="UR5的仿真环境安装与使用"><a href="#UR5的仿真环境安装与使用" class="headerlink" title="UR5的仿真环境安装与使用"></a>UR5的仿真环境安装与使用</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-kinetic-universal-robot</span><br><span class="line">roslaunch ur_gazebo ur5.launch	</span><br><span class="line">roslaunch ur5_moveit_config ur5_moveit_planning_execution.launch sim:=<span class="literal">true</span></span><br><span class="line">roslaunch ur5_moveit_config moveit_rviz.launch config:=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="ROS文件系统介绍"><a href="#ROS文件系统介绍" class="headerlink" title="ROS文件系统介绍"></a>ROS文件系统介绍</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-kinetic-ros-tutorials		<span class="comment">//安装ros-tutorials程序包</span></span><br><span class="line">rospack find roscpp									<span class="comment">//rospack find [包名称]  rospack (/rospack)允许你获取软件包的有关信息。在本教程中，我们只涉及到rospack中find参数选项，该选项可以返回软件包的路径信息。</span></span><br><span class="line">roscd roscpp										<span class="comment">//roscd [本地包名称[/子目录]]   直接切换工作目录到某个软件包或者软件包集当中</span></span><br><span class="line">pwd													<span class="comment">//输出当前工作目录</span></span><br><span class="line">echo $ROS_PACKAGE_PATH								<span class="comment">//查看ROS_PACKAGE_PATH</span></span><br><span class="line">roscd log											<span class="comment">//切换到ROS保存日记文件的目录下。如果你没有执行过任何ROS程序，系统会报错说该目录不存在。</span></span><br><span class="line">rosls roscpp_tutorials								<span class="comment">//rosls [本地包名称[/子目录]] 直接按软件包的名称而不是绝对路径来罗列目录</span></span><br></pre></td></tr></table></figure>
<h2 id="使用catkin创建工作空间"><a href="#使用catkin创建工作空间" class="headerlink" title="使用catkin创建工作空间"></a>使用catkin创建工作空间</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">source /opt/ros/kinetic/setup.bash					<span class="comment">//sourced your environment</span></span><br><span class="line">mkdir -p ~/catkin_ws/src</span><br><span class="line">cd ~/catkin_ws/</span><br><span class="line">catkin_make</span><br><span class="line">source devel/setup.bash</span><br><span class="line">echo $ROS_PACKAGE_PATH 								<span class="comment">//确认环境变量包含了目录</span></span><br></pre></td></tr></table></figure>
<h2 id="创建ROS程序包"><a href="#创建ROS程序包" class="headerlink" title="创建ROS程序包"></a>创建ROS程序包</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/catkin_ws/src</span><br><span class="line">catkin_create_pkg beginner_tutorials std_msgs rospy roscpp 		<span class="comment">//使用catkin_create_pkg命令来创建一个名为&#x27;beginner_tutorials&#x27;的新程序包，这个程序包依赖于std_msgs、roscpp和rospy</span></span><br><span class="line">rospack depends1 beginner_tutorials 							<span class="comment">//使用rospack命令来查看一级依赖包</span></span><br><span class="line">rospack depends beginner_tutorials								<span class="comment">//使用rospack可以递归检测出所有的依赖包</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>本节还介绍了.xml文件的书写方法</p>
</blockquote>
<h2 id="编译ROS程序包"><a href="#编译ROS程序包" class="headerlink" title="编译ROS程序包"></a>编译ROS程序包</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">source /opt/ros/kinetic/setup.bash					<span class="comment">//先source你的环境配置(setup)文件</span></span><br><span class="line">cd catkin工作空间</span><br><span class="line">catkin_make											<span class="comment">//编译</span></span><br><span class="line">catkin_make --source my_src							<span class="comment">//编译存放在了my_src中，而非在默认工作空间中（~/catkin_ws/src)的源代码</span></span><br></pre></td></tr></table></figure>
<h2 id="理解ROS节点"><a href="#理解ROS节点" class="headerlink" title="理解ROS节点"></a>理解ROS节点</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-kinetic-ros-tutorials		<span class="comment">//安装龟龟模拟器</span></span><br><span class="line">roscore												<span class="comment">//运行所有ROS程序前首先要运行的命令</span></span><br><span class="line">rosnode list										<span class="comment">//列出活跃的节点，本例为/rosout</span></span><br><span class="line">rosnode info /rosout 								<span class="comment">//返回特定节点的信息</span></span><br><span class="line">rosrun turtlesim turtlesim_node						<span class="comment">//打开新终端，运行turtlesim。    rosrun [package_name] [node_name]</span></span><br><span class="line">rosnode list										<span class="comment">//打开新终端，查看节点：/rosout  /turtlesim</span></span><br><span class="line">rosrun turtlesim turtlesim_node __name:=my_turtle   <span class="comment">//关闭原来的turtlesim，打开新终端运行。改变节点名称</span></span><br><span class="line">rosnode list 										<span class="comment">//查看新的节点名称：/rosout /my_turtle</span></span><br><span class="line">rosnode ping my_turtle								<span class="comment">//使用另一个节点来ping该节点</span></span><br></pre></td></tr></table></figure>
<h2 id="理解ROS话题"><a href="#理解ROS话题" class="headerlink" title="理解ROS话题"></a>理解ROS话题</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">roscore 							<span class="comment">//新开一个终端，打开ros</span></span><br><span class="line">rosrun turtlesim turtlesim_node		<span class="comment">//新开一个终端。这是接受消息的节点</span></span><br><span class="line">rosrun turtlesim turtle_teleop_key	<span class="comment">//新开一个终端，通过键盘来控制龟龟运动。这也是发布消息的节点</span></span><br><span class="line">rosrun rqt_graph rqt_graph			<span class="comment">//新开一个终端，创建一个显示当前系统运行情况的动态图形</span></span><br><span class="line">rostopic -h							<span class="comment">//新开一个终端，查看rostopic的子命令</span></span><br><span class="line">rostopic echo /turtle1/cmd_vel		<span class="comment">//你可能看不到任何东西因为现在还没有数据发布到该话题上。接下来我们通过按下方向键使turtle_teleop_key节点发布数据。可以返回rqt_graph中刷新查看</span></span><br><span class="line">rostopic list -v 					<span class="comment">//查看有关所发布和订阅的话题及其类型的详细信息</span></span><br><span class="line">rostopic type /turtle1/cmd_vel		<span class="comment">//查看发布在某个话题上的消息类型，会看到：geometry_msgs/Twist</span></span><br><span class="line">rosmsg show geometry_msgs/Twist		<span class="comment">//查看消息的详细情况。根据该结果可以知道turtlesim节点所期望的消息类型(可看到包含linear和angular两个值)，接下来我们就可以给turtle发布命令了</span></span><br><span class="line">rostopic pub <span class="number">-1</span> /turtle1/cmd_vel geometry_msgs/Twist -- <span class="string">&#x27;[2.0, 0.0, 0.0]&#x27;</span> <span class="string">&#x27;[0.0, 0.0, 1.8]&#x27;</span></span><br><span class="line">									<span class="comment">//rostopic pub可以把数据发布到当前某个正在广播的话题上。用法:rostopic pub [topic] [msg_type] [args]</span></span><br><span class="line">									<span class="comment">//以上命令会发送一条消息给turtlesim，告诉它以2.0大小的线速度和1.8大小的角速度开始移动。</span></span><br><span class="line">									<span class="comment">//-1: （单个破折号）这个参数选项使rostopic发布一条消息后马上退出。</span></span><br><span class="line">									<span class="comment">///turtle1/cmd_vel: 消息所发布到的话题名称</span></span><br><span class="line">									<span class="comment">//geometry_msgs/Twist: 所发布消息类型</span></span><br><span class="line">									<span class="comment">//--: 双破折号）这会告诉命令选项解析器接下来的参数部分都不是命令选项。这在参数里面包含有破折号-（比如负号）时是必须要添加的</span></span><br><span class="line">									<span class="comment">//&#x27;[2.0, 0.0, 0.0]&#x27; &#x27;[0.0, 0.0, 1.8]&#x27;: 正如之前提到的，在一个geometry_msgs/Twist消息里面包含有两个浮点型元素：linear和angular。</span></span><br><span class="line">									<span class="comment">//在本例中，&#x27;[2.0, 0.0, 0.0]&#x27;是linear的值，&#x27;[0.0, 0.0, 1.8]&#x27;是angular的值。这些参数其实是按照YAML语法格式编写的，这在YAML文档 (/ROS/YAMLCommandLine)中有更多的描述。</span></span><br><span class="line">rostopic pub /turtle1/cmd_vel geometry_msgs/Twist -r <span class="number">1</span> -- <span class="string">&#x27;[2.0, 0.0, 0.0]&#x27;</span> <span class="string">&#x27;[0.0, 0.0, 1.8]&#x27;</span></span><br><span class="line">									<span class="comment">//这条命令以1Hz的频率发布速度命令到速度话题上。使用rostopic pub -r命令来发布一个稳定的命令流</span></span><br><span class="line">rostopic hz /turtle1/pose			<span class="comment">//rostopic hz命令可以用来查看数据发布的频率。	rostopic hz [topic]	</span></span><br><span class="line">rostopic type /turtle1/pose | rosmsg show</span><br><span class="line">									<span class="comment">//结合rostopic type和rosmsg show命令来获取关于某个话题的更深层次的信息	</span></span><br><span class="line">									<span class="comment">//可以看到pose下有五个信息: x y theta linear_velocity angular_velocity</span></span><br><span class="line">rosrun rqt_plot rqt_plot			<span class="comment">//使用rqt_plot命令来绘制正在发布到/turtle1/pose话题上的数据变化图形	</span></span><br><span class="line">									<span class="comment">//这会弹出一个新窗口，在窗口左上角的一个文本框里面你可以添加需要绘制的话题。在里面输入/turtle1/pose/x后之前处于禁用状态的加号按钮将会被使能变亮。按一下该按钮，并</span></span><br><span class="line">									<span class="comment">//对/turtle1/pose/y重复相同的过程。现在你会在图形中看到turtle的x-y位置坐标图。</span></span><br><span class="line">									<span class="comment">//按下减号按钮会显示一组菜单让你隐藏图形中指定的话题。现在隐藏掉你刚才添加的话题并添加/turtle1/pose/theta											</span></span><br></pre></td></tr></table></figure>
<h2 id="理解ROS服务和参数"><a href="#理解ROS服务和参数" class="headerlink" title="理解ROS服务和参数"></a>理解ROS服务和参数</h2><p>在小乌龟仍然启动的基础上：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rosservice list						<span class="comment">//输出可用服务的信息</span></span><br><span class="line">rosservice call						<span class="comment">//调用带参数的服务</span></span><br><span class="line">rosservice type 					<span class="comment">//输出服务类型</span></span><br><span class="line">rosservice find 					<span class="comment">//依据类型寻找服务find services by service type </span></span><br><span class="line">rosservice uri 						<span class="comment">//输出服务的ROSRPC uri		</span></span><br><span class="line">rosservice type clear				<span class="comment">//查看clear服务类型，clear是rosservice list中的一种服务类型。rosservice type [service]</span></span><br><span class="line">rosservice call clear				<span class="comment">//代用clear服务，该服务清除了turtlesim_node的背景上的轨迹。rosservice call [service] [args]</span></span><br><span class="line">rosservice type spawn| rossrv show 	<span class="comment">//查看再生（spawn）服务的信息</span></span><br><span class="line">rosservice call spawn <span class="number">2</span> <span class="number">2</span> <span class="number">0.2</span> <span class="string">&quot;&quot;</span> 	<span class="comment">//调用再生服务，在给定的位置和角度生成一只新的乌龟。名字参数是可选的，这里我们不设具体的名字，让turtlesim自动创建一个。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">rosparam set 						<span class="comment">//设置参数</span></span><br><span class="line">rosparam get 						<span class="comment">//获取参数</span></span><br><span class="line">rosparam load 						<span class="comment">//从文件读取参数</span></span><br><span class="line">rosparam dump 						<span class="comment">//向文件中写入参数</span></span><br><span class="line">rosparam <span class="keyword">delete</span> 					<span class="comment">//删除参数</span></span><br><span class="line">rosparam list 						<span class="comment">//列出节点在服务器上的参数名</span></span><br><span class="line">rosparam set backgrou